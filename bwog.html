<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>bwog: 又一次写博客生成器</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/styles/default.min.css">
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/highlight.min.js"></script>
</head>

<body>
    <a href="index.html">Home</a> <!-- <a href="tags.html">Tags</a> -->
    <div class="document"><h1>bwog: 又一次写博客生成器</h1><p>这一次的想法是去年暑假的时候萌发的，但是由于学业耽搁了半年．现在没有学业的影响，花两周尝试了各种方案，终于完成了．
</p><p>bwog 是用 Common Lisp 写的，这也是我第一次用 Lisp 方言写实用程序．过程中发现 Lisp 的表达能力确实是不错，只用了 400 行就完成了所有功能．
</p><p>如 README 所说，主要功能亮点是这三个：
</p><ul><li><p>字符替换（如把空心句号替换成全角实心点）
</p></li><li><p>KaTeX 自定义宏
</p></li><li><p>嵌入 LaTeX 内容（交换图）
</p></li></ul><p>这里展示一下这些功能吧．
</p><p><span class="math inline">\GL_n(F)</span>
</p><pre><code class="language-">$\GL_n(F)$
</code></pre><figure><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="131.99pt" height="87.7pt" viewBox="0 0 131.99 87.7" version="1.2">
<defs>
<g>
<symbol overflow="visible" id="glyph0-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph0-1">
<path style="stroke:none;" d="M 4.46875 -6.359375 C 4.546875 -6.640625 4.578125 -6.703125 4.703125 -6.734375 C 4.8125 -6.765625 5.15625 -6.765625 5.375 -6.765625 C 6.421875 -6.765625 6.90625 -6.71875 6.90625 -5.90625 C 6.90625 -5.75 6.859375 -5.34375 6.8125 -5.0625 C 6.796875 -5.03125 6.78125 -4.90625 6.78125 -4.875 C 6.78125 -4.8125 6.8125 -4.734375 6.90625 -4.734375 C 7.03125 -4.734375 7.046875 -4.8125 7.0625 -4.96875 L 7.34375 -6.796875 C 7.359375 -6.84375 7.375 -6.9375 7.375 -6.96875 C 7.375 -7.09375 7.265625 -7.09375 7.09375 -7.09375 L 1.28125 -7.09375 C 1.03125 -7.09375 1.015625 -7.078125 0.9375 -6.875 L 0.3125 -5.03125 C 0.296875 -5.015625 0.25 -4.875 0.25 -4.84375 C 0.25 -4.78125 0.296875 -4.734375 0.375 -4.734375 C 0.484375 -4.734375 0.484375 -4.78125 0.5625 -4.953125 C 1.125 -6.578125 1.390625 -6.765625 2.9375 -6.765625 L 3.34375 -6.765625 C 3.640625 -6.765625 3.640625 -6.71875 3.640625 -6.640625 C 3.640625 -6.578125 3.609375 -6.453125 3.59375 -6.421875 L 2.203125 -0.828125 C 2.109375 -0.4375 2.078125 -0.328125 0.953125 -0.328125 C 0.578125 -0.328125 0.515625 -0.328125 0.515625 -0.125 C 0.515625 0 0.625 0 0.6875 0 C 0.96875 0 1.265625 -0.015625 1.546875 -0.015625 C 1.84375 -0.015625 2.140625 -0.03125 2.4375 -0.03125 C 2.734375 -0.03125 3.03125 -0.015625 3.3125 -0.015625 C 3.609375 -0.015625 3.921875 0 4.21875 0 C 4.328125 0 4.453125 0 4.453125 -0.203125 C 4.453125 -0.328125 4.359375 -0.328125 4.09375 -0.328125 C 3.828125 -0.328125 3.703125 -0.328125 3.421875 -0.34375 C 3.125 -0.375 3.03125 -0.40625 3.03125 -0.578125 C 3.03125 -0.59375 3.03125 -0.640625 3.078125 -0.796875 Z M 4.46875 -6.359375 "/>
</symbol>
<symbol overflow="visible" id="glyph0-2">
<path style="stroke:none;" d="M 5.078125 -4.296875 L 4.203125 -6.390625 C 4.171875 -6.46875 4.140625 -6.515625 4.140625 -6.515625 C 4.140625 -6.578125 4.328125 -6.78125 4.765625 -6.828125 C 4.875 -6.84375 4.96875 -6.84375 4.96875 -7.03125 C 4.96875 -7.15625 4.84375 -7.15625 4.8125 -7.15625 C 4.390625 -7.15625 3.9375 -7.125 3.5 -7.125 C 3.234375 -7.125 2.578125 -7.15625 2.328125 -7.15625 C 2.265625 -7.15625 2.140625 -7.15625 2.140625 -6.9375 C 2.140625 -6.828125 2.234375 -6.828125 2.375 -6.828125 C 3 -6.828125 3.0625 -6.71875 3.15625 -6.484375 L 4.390625 -3.5625 L 2.1875 -1.1875 L 2.046875 -1.078125 C 1.53125 -0.515625 1.046875 -0.359375 0.515625 -0.328125 C 0.375 -0.3125 0.28125 -0.3125 0.28125 -0.109375 C 0.28125 -0.109375 0.28125 0 0.421875 0 C 0.734375 0 1.078125 -0.03125 1.40625 -0.03125 C 1.796875 -0.03125 2.203125 0 2.578125 0 C 2.640625 0 2.765625 0 2.765625 -0.203125 C 2.765625 -0.3125 2.65625 -0.328125 2.640625 -0.328125 C 2.546875 -0.328125 2.21875 -0.359375 2.21875 -0.65625 C 2.21875 -0.8125 2.375 -0.984375 2.5 -1.125 L 3.5625 -2.25 L 4.515625 -3.28125 L 5.5625 -0.78125 C 5.609375 -0.65625 5.625 -0.65625 5.625 -0.625 C 5.625 -0.546875 5.421875 -0.359375 5.015625 -0.328125 C 4.90625 -0.3125 4.8125 -0.296875 4.8125 -0.125 C 4.8125 0 4.921875 0 4.96875 0 C 5.25 0 5.984375 -0.03125 6.28125 -0.03125 C 6.546875 -0.03125 7.1875 0 7.4375 0 C 7.515625 0 7.640625 0 7.640625 -0.203125 C 7.640625 -0.328125 7.53125 -0.328125 7.453125 -0.328125 C 6.75 -0.328125 6.734375 -0.359375 6.546875 -0.78125 C 6.140625 -1.765625 5.4375 -3.390625 5.203125 -4.015625 C 5.921875 -4.75 7.015625 -6 7.34375 -6.296875 C 7.65625 -6.546875 8.046875 -6.796875 8.671875 -6.828125 C 8.8125 -6.84375 8.90625 -6.84375 8.90625 -7.03125 C 8.90625 -7.046875 8.90625 -7.15625 8.765625 -7.15625 C 8.453125 -7.15625 8.109375 -7.125 7.78125 -7.125 C 7.40625 -7.125 7 -7.15625 6.625 -7.15625 C 6.5625 -7.15625 6.421875 -7.15625 6.421875 -6.9375 C 6.421875 -6.875 6.484375 -6.84375 6.546875 -6.828125 C 6.640625 -6.8125 6.96875 -6.796875 6.96875 -6.5 C 6.96875 -6.359375 6.859375 -6.21875 6.765625 -6.125 Z M 5.078125 -4.296875 "/>
</symbol>
<symbol overflow="visible" id="glyph0-3">
<path style="stroke:none;" d="M 6.25 -5.953125 L 6.390625 -6.109375 C 6.703125 -6.421875 7.0625 -6.765625 7.765625 -6.828125 C 7.890625 -6.84375 7.984375 -6.84375 7.984375 -7.03125 C 7.984375 -7.109375 7.921875 -7.15625 7.84375 -7.15625 C 7.5625 -7.15625 7.265625 -7.125 6.984375 -7.125 C 6.640625 -7.125 6.265625 -7.15625 5.9375 -7.15625 C 5.875 -7.15625 5.734375 -7.15625 5.734375 -6.953125 C 5.734375 -6.84375 5.84375 -6.828125 5.890625 -6.828125 C 5.96875 -6.828125 6.265625 -6.796875 6.265625 -6.578125 C 6.265625 -6.40625 6.03125 -6.140625 5.984375 -6.078125 L 3.5625 -3.28125 L 2.40625 -6.390625 C 2.34375 -6.546875 2.34375 -6.5625 2.34375 -6.578125 C 2.34375 -6.828125 2.859375 -6.828125 2.96875 -6.828125 C 3.109375 -6.828125 3.21875 -6.828125 3.21875 -7.03125 C 3.21875 -7.15625 3.09375 -7.15625 3.0625 -7.15625 C 2.765625 -7.15625 2.03125 -7.125 1.734375 -7.125 C 1.46875 -7.125 0.828125 -7.15625 0.5625 -7.15625 C 0.5 -7.15625 0.359375 -7.15625 0.359375 -6.9375 C 0.359375 -6.828125 0.46875 -6.828125 0.609375 -6.828125 C 1.234375 -6.828125 1.28125 -6.734375 1.375 -6.46875 L 2.65625 -3.03125 C 2.671875 -3 2.703125 -2.875 2.703125 -2.84375 C 2.703125 -2.8125 2.28125 -1.125 2.234375 -0.9375 C 2.09375 -0.359375 2.078125 -0.328125 1.25 -0.328125 C 1.046875 -0.328125 0.96875 -0.328125 0.96875 -0.109375 C 0.96875 0 1.09375 0 1.109375 0 C 1.40625 0 2.140625 -0.03125 2.421875 -0.03125 C 2.71875 -0.03125 3.46875 0 3.765625 0 C 3.84375 0 3.96875 0 3.96875 -0.203125 C 3.96875 -0.328125 3.875 -0.328125 3.671875 -0.328125 C 3.65625 -0.328125 3.453125 -0.328125 3.28125 -0.34375 C 3.0625 -0.359375 3 -0.390625 3 -0.515625 C 3 -0.59375 3.09375 -0.953125 3.140625 -1.171875 L 3.5 -2.65625 C 3.5625 -2.84375 3.5625 -2.875 3.65625 -2.96875 Z M 6.25 -5.953125 "/>
</symbol>
<symbol overflow="visible" id="glyph0-4">
<path style="stroke:none;" d="M 7.53125 -6.90625 C 7.546875 -6.9375 7.5625 -7 7.5625 -7.0625 C 7.5625 -7.15625 7.515625 -7.15625 7.3125 -7.15625 L 2.890625 -7.15625 C 2.640625 -7.15625 2.625 -7.140625 2.5625 -6.9375 L 1.984375 -5.0625 C 1.96875 -5 1.953125 -4.9375 1.953125 -4.90625 C 1.953125 -4.90625 1.953125 -4.796875 2.078125 -4.796875 C 2.171875 -4.796875 2.203125 -4.875 2.21875 -4.90625 C 2.609375 -6.140625 3.15625 -6.828125 4.796875 -6.828125 L 6.5 -6.828125 L 0.65625 -0.28125 C 0.65625 -0.265625 0.609375 -0.125 0.609375 -0.09375 C 0.609375 0 0.6875 0 0.875 0 L 5.421875 0 C 5.671875 0 5.6875 -0.015625 5.75 -0.203125 L 6.484375 -2.515625 C 6.5 -2.5625 6.53125 -2.640625 6.53125 -2.6875 C 6.53125 -2.734375 6.484375 -2.796875 6.390625 -2.796875 C 6.296875 -2.796875 6.296875 -2.75 6.21875 -2.53125 C 5.75 -1.109375 5.25 -0.359375 3.46875 -0.359375 L 1.6875 -0.359375 Z M 7.53125 -6.90625 "/>
</symbol>
<symbol overflow="visible" id="glyph1-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph1-1">
<path style="stroke:none;" d="M 4.078125 -2.90625 L 1.984375 -5 C 1.859375 -5.125 1.828125 -5.140625 1.75 -5.140625 C 1.640625 -5.140625 1.53125 -5.046875 1.53125 -4.9375 C 1.53125 -4.859375 1.5625 -4.84375 1.671875 -4.71875 L 3.765625 -2.609375 L 1.671875 -0.515625 C 1.5625 -0.390625 1.53125 -0.375 1.53125 -0.296875 C 1.53125 -0.1875 1.640625 -0.09375 1.75 -0.09375 C 1.828125 -0.09375 1.859375 -0.109375 1.984375 -0.234375 L 4.0625 -2.328125 L 6.234375 -0.15625 C 6.25 -0.140625 6.328125 -0.09375 6.390625 -0.09375 C 6.515625 -0.09375 6.59375 -0.1875 6.59375 -0.296875 C 6.59375 -0.328125 6.59375 -0.359375 6.5625 -0.421875 C 6.546875 -0.4375 4.890625 -2.078125 4.359375 -2.609375 L 6.28125 -4.53125 C 6.328125 -4.59375 6.484375 -4.734375 6.546875 -4.796875 C 6.546875 -4.8125 6.59375 -4.859375 6.59375 -4.9375 C 6.59375 -5.046875 6.515625 -5.140625 6.390625 -5.140625 C 6.296875 -5.140625 6.265625 -5.09375 6.140625 -4.984375 Z M 4.078125 -2.90625 "/>
</symbol>
<symbol overflow="visible" id="glyph2-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph2-1">
<path style="stroke:none;" d="M 5.4375 -4.484375 C 5.5 -4.53125 5.546875 -4.578125 5.546875 -4.671875 C 5.546875 -4.75 5.484375 -4.75 5.359375 -4.75 L 2.109375 -4.75 C 1.921875 -4.75 1.921875 -4.734375 1.875 -4.609375 L 1.484375 -3.359375 C 1.453125 -3.28125 1.453125 -3.265625 1.453125 -3.25 C 1.453125 -3.21875 1.484375 -3.15625 1.578125 -3.15625 C 1.671875 -3.15625 1.6875 -3.1875 1.703125 -3.265625 C 2.03125 -4.234375 2.578125 -4.5 3.484375 -4.5 L 4.734375 -4.5 L 0.671875 -0.3125 C 0.625 -0.25 0.5625 -0.1875 0.5625 -0.078125 C 0.5625 0 0.625 0 0.75 0 L 4.109375 0 C 4.296875 0 4.296875 0 4.34375 -0.140625 L 4.84375 -1.6875 C 4.875 -1.78125 4.875 -1.796875 4.875 -1.796875 C 4.875 -1.8125 4.875 -1.890625 4.75 -1.890625 C 4.671875 -1.890625 4.65625 -1.875 4.609375 -1.71875 C 4.28125 -0.765625 3.921875 -0.28125 2.71875 -0.28125 L 1.390625 -0.28125 Z M 5.4375 -4.484375 "/>
</symbol>
<symbol overflow="visible" id="glyph2-2">
<path style="stroke:none;" d="M 1.734375 -0.734375 C 1.65625 -0.5 1.4375 -0.125 1.078125 -0.125 C 1.0625 -0.125 0.84375 -0.125 0.703125 -0.21875 C 0.984375 -0.3125 1.015625 -0.5625 1.015625 -0.609375 C 1.015625 -0.765625 0.890625 -0.859375 0.734375 -0.859375 C 0.53125 -0.859375 0.328125 -0.703125 0.328125 -0.4375 C 0.328125 -0.09375 0.71875 0.0625 1.0625 0.0625 C 1.390625 0.0625 1.671875 -0.125 1.84375 -0.421875 C 2.015625 -0.0625 2.390625 0.0625 2.671875 0.0625 C 3.46875 0.0625 3.890625 -0.796875 3.890625 -1 C 3.890625 -1.078125 3.796875 -1.078125 3.78125 -1.078125 C 3.6875 -1.078125 3.671875 -1.046875 3.65625 -0.96875 C 3.5 -0.484375 3.09375 -0.125 2.703125 -0.125 C 2.421875 -0.125 2.28125 -0.3125 2.28125 -0.578125 C 2.28125 -0.765625 2.4375 -1.390625 2.640625 -2.15625 C 2.78125 -2.703125 3.09375 -2.875 3.3125 -2.875 C 3.328125 -2.875 3.546875 -2.875 3.6875 -2.78125 C 3.46875 -2.71875 3.390625 -2.515625 3.390625 -2.390625 C 3.390625 -2.234375 3.5 -2.140625 3.671875 -2.140625 C 3.828125 -2.140625 4.046875 -2.265625 4.046875 -2.5625 C 4.046875 -2.953125 3.609375 -3.0625 3.328125 -3.0625 C 2.984375 -3.0625 2.703125 -2.84375 2.546875 -2.578125 C 2.421875 -2.859375 2.109375 -3.0625 1.71875 -3.0625 C 0.9375 -3.0625 0.5 -2.21875 0.5 -2 C 0.5 -1.90625 0.59375 -1.90625 0.609375 -1.90625 C 0.703125 -1.90625 0.703125 -1.9375 0.75 -2.03125 C 0.921875 -2.578125 1.359375 -2.875 1.703125 -2.875 C 1.921875 -2.875 2.109375 -2.75 2.109375 -2.40625 C 2.109375 -2.28125 2.03125 -1.921875 1.96875 -1.6875 Z M 1.734375 -0.734375 "/>
</symbol>
<symbol overflow="visible" id="glyph2-3">
<path style="stroke:none;" d="M 3.859375 -2.625 C 3.890625 -2.71875 3.890625 -2.734375 3.890625 -2.78125 C 3.890625 -2.90625 3.78125 -3 3.671875 -3 C 3.59375 -3 3.453125 -2.96875 3.375 -2.828125 C 3.359375 -2.78125 3.296875 -2.5625 3.265625 -2.421875 L 3.125 -1.84375 C 3.078125 -1.6875 2.859375 -0.8125 2.84375 -0.734375 C 2.84375 -0.734375 2.53125 -0.125 1.984375 -0.125 C 1.515625 -0.125 1.515625 -0.578125 1.515625 -0.703125 C 1.515625 -1.078125 1.671875 -1.515625 1.890625 -2.046875 C 1.96875 -2.28125 2 -2.359375 2 -2.46875 C 2 -2.8125 1.71875 -3.0625 1.34375 -3.0625 C 0.640625 -3.0625 0.328125 -2.125 0.328125 -2 C 0.328125 -1.90625 0.421875 -1.90625 0.4375 -1.90625 C 0.546875 -1.90625 0.546875 -1.953125 0.5625 -2.015625 C 0.75 -2.59375 1.046875 -2.875 1.328125 -2.875 C 1.4375 -2.875 1.5 -2.796875 1.5 -2.625 C 1.5 -2.46875 1.4375 -2.3125 1.390625 -2.21875 C 1.0625 -1.375 1 -1.125 1 -0.8125 C 1 -0.703125 1 -0.375 1.265625 -0.140625 C 1.484375 0.03125 1.765625 0.0625 1.953125 0.0625 C 2.234375 0.0625 2.484375 -0.03125 2.71875 -0.25 C 2.625 0.140625 2.546875 0.4375 2.265625 0.78125 C 2.078125 1 1.796875 1.21875 1.421875 1.21875 C 1.375 1.21875 1.046875 1.21875 0.90625 1 C 1.28125 0.953125 1.28125 0.625 1.28125 0.609375 C 1.28125 0.390625 1.078125 0.34375 1.015625 0.34375 C 0.828125 0.34375 0.609375 0.484375 0.609375 0.8125 C 0.609375 1.15625 0.9375 1.421875 1.4375 1.421875 C 2.140625 1.421875 2.984375 0.875 3.203125 0 Z M 3.859375 -2.625 "/>
</symbol>
<symbol overflow="visible" id="glyph2-4">
<path style="stroke:none;" d="M 1.46875 -0.109375 C 1.46875 0.265625 1.390625 0.71875 0.921875 1.15625 C 0.890625 1.1875 0.875 1.203125 0.875 1.25 C 0.875 1.296875 0.9375 1.34375 0.96875 1.34375 C 1.078125 1.34375 1.65625 0.78125 1.65625 -0.046875 C 1.65625 -0.46875 1.5 -0.796875 1.171875 -0.796875 C 0.953125 -0.796875 0.78125 -0.625 0.78125 -0.40625 C 0.78125 -0.1875 0.9375 0 1.1875 0 C 1.34375 0 1.453125 -0.109375 1.46875 -0.109375 Z M 1.46875 -0.109375 "/>
</symbol>
<symbol overflow="visible" id="glyph2-5">
<path style="stroke:none;" d="M 0.515625 0.84375 C 0.46875 1.046875 0.453125 1.09375 0.1875 1.09375 C 0.09375 1.09375 0 1.09375 0 1.25 C 0 1.328125 0.0625 1.34375 0.09375 1.34375 C 0.265625 1.34375 0.5 1.328125 0.6875 1.328125 C 0.921875 1.328125 1.1875 1.34375 1.421875 1.34375 C 1.484375 1.34375 1.5625 1.328125 1.5625 1.203125 C 1.5625 1.09375 1.453125 1.09375 1.375 1.09375 C 1.21875 1.09375 1.03125 1.09375 1.03125 1.015625 C 1.03125 0.984375 1.078125 0.796875 1.109375 0.703125 C 1.203125 0.328125 1.296875 -0.046875 1.375 -0.34375 C 1.453125 -0.203125 1.671875 0.0625 2.09375 0.0625 C 2.9375 0.0625 3.875 -0.875 3.875 -1.90625 C 3.875 -2.71875 3.3125 -3.0625 2.828125 -3.0625 C 2.40625 -3.0625 2.03125 -2.78125 1.84375 -2.578125 C 1.71875 -2.96875 1.328125 -3.0625 1.125 -3.0625 C 0.859375 -3.0625 0.6875 -2.890625 0.578125 -2.703125 C 0.4375 -2.46875 0.328125 -2.046875 0.328125 -2 C 0.328125 -1.90625 0.421875 -1.90625 0.4375 -1.90625 C 0.546875 -1.90625 0.546875 -1.9375 0.59375 -2.125 C 0.703125 -2.53125 0.828125 -2.875 1.109375 -2.875 C 1.28125 -2.875 1.328125 -2.71875 1.328125 -2.53125 C 1.328125 -2.453125 1.328125 -2.359375 1.3125 -2.328125 Z M 1.828125 -2.234375 C 2.234375 -2.765625 2.59375 -2.875 2.8125 -2.875 C 3.078125 -2.875 3.3125 -2.671875 3.3125 -2.203125 C 3.3125 -1.90625 3.15625 -1.203125 2.953125 -0.796875 C 2.78125 -0.453125 2.4375 -0.125 2.09375 -0.125 C 1.59375 -0.125 1.46875 -0.65625 1.46875 -0.734375 C 1.46875 -0.765625 1.484375 -0.8125 1.484375 -0.828125 Z M 1.828125 -2.234375 "/>
</symbol>
<symbol overflow="visible" id="glyph2-6">
<path style="stroke:none;" d="M 3.546875 -2.859375 C 3.546875 -2.890625 3.546875 -2.9375 3.546875 -2.96875 C 3.546875 -3.015625 3.53125 -3.0625 3.46875 -3.0625 C 3.390625 -3.0625 3.09375 -2.828125 2.96875 -2.609375 C 2.890625 -2.75 2.65625 -3.0625 2.21875 -3.0625 C 1.328125 -3.0625 0.421875 -2.09375 0.421875 -1.078125 C 0.421875 -0.40625 0.875 0.0625 1.46875 0.0625 C 1.875 0.0625 2.203125 -0.1875 2.34375 -0.3125 C 2.34375 -0.296875 2.125 0.578125 2.09375 0.703125 C 2 1.078125 2 1.09375 1.5625 1.09375 C 1.484375 1.09375 1.390625 1.09375 1.390625 1.25 C 1.390625 1.296875 1.421875 1.34375 1.484375 1.34375 C 1.71875 1.34375 1.96875 1.328125 2.21875 1.328125 C 2.453125 1.328125 2.734375 1.34375 2.953125 1.34375 C 3.015625 1.34375 3.09375 1.328125 3.09375 1.203125 C 3.09375 1.09375 3 1.09375 2.90625 1.09375 C 2.765625 1.09375 2.578125 1.09375 2.578125 1.015625 C 2.578125 1 2.578125 0.984375 2.609375 0.859375 Z M 2.484375 -0.875 C 2.453125 -0.765625 2.453125 -0.75 2.359375 -0.625 C 2.09375 -0.3125 1.765625 -0.125 1.5 -0.125 C 1.234375 -0.125 0.984375 -0.3125 0.984375 -0.796875 C 0.984375 -1.171875 1.1875 -1.9375 1.34375 -2.21875 C 1.671875 -2.765625 2.015625 -2.875 2.21875 -2.875 C 2.703125 -2.875 2.84375 -2.34375 2.84375 -2.265625 C 2.84375 -2.234375 2.828125 -2.1875 2.8125 -2.15625 Z M 2.484375 -0.875 "/>
</symbol>
<symbol overflow="visible" id="glyph2-7">
<path style="stroke:none;" d="M 2.828125 -2.75 L 3.515625 -2.75 C 3.65625 -2.75 3.734375 -2.75 3.734375 -2.90625 C 3.734375 -3 3.65625 -3 3.53125 -3 L 2.875 -3 C 3.03125 -3.875 3.09375 -4.203125 3.15625 -4.40625 C 3.1875 -4.546875 3.34375 -4.703125 3.5 -4.703125 C 3.515625 -4.703125 3.703125 -4.703125 3.828125 -4.609375 C 3.546875 -4.53125 3.53125 -4.28125 3.53125 -4.234375 C 3.53125 -4.078125 3.640625 -3.984375 3.796875 -3.984375 C 3.984375 -3.984375 4.203125 -4.140625 4.203125 -4.40625 C 4.203125 -4.71875 3.859375 -4.890625 3.5 -4.890625 C 3.203125 -4.890625 2.859375 -4.71875 2.671875 -4.375 C 2.53125 -4.109375 2.46875 -3.796875 2.328125 -3 L 1.78125 -3 C 1.640625 -3 1.546875 -3 1.546875 -2.84375 C 1.546875 -2.75 1.640625 -2.75 1.765625 -2.75 L 2.28125 -2.75 C 2.28125 -2.703125 1.828125 -0.203125 1.671875 0.546875 C 1.640625 0.703125 1.515625 1.21875 1.1875 1.21875 C 1.171875 1.21875 1.015625 1.21875 0.875 1.140625 C 1.15625 1.046875 1.1875 0.796875 1.1875 0.765625 C 1.1875 0.609375 1.0625 0.5 0.90625 0.5 C 0.71875 0.5 0.5 0.65625 0.5 0.921875 C 0.5 1.234375 0.828125 1.421875 1.1875 1.421875 C 1.625 1.421875 1.9375 0.953125 2.015625 0.8125 C 2.265625 0.34375 2.421875 -0.515625 2.4375 -0.59375 Z M 2.828125 -2.75 "/>
</symbol>
<symbol overflow="visible" id="glyph2-8">
<path style="stroke:none;" d="M 3.703125 -2.5625 C 3.734375 -2.671875 3.734375 -2.703125 3.734375 -2.71875 C 3.734375 -2.859375 3.609375 -2.9375 3.484375 -2.9375 C 3.328125 -2.9375 3.203125 -2.796875 3.171875 -2.671875 C 3.046875 -2.859375 2.8125 -3.0625 2.453125 -3.0625 C 1.578125 -3.0625 0.671875 -2.140625 0.671875 -1.140625 C 0.671875 -0.421875 1.15625 0 1.734375 0 C 2.046875 0 2.359375 -0.15625 2.59375 -0.375 L 2.453125 0.25 C 2.375 0.546875 2.328125 0.734375 2.0625 0.96875 C 1.75 1.21875 1.453125 1.21875 1.28125 1.21875 C 0.953125 1.21875 0.875 1.203125 0.75 1.171875 C 0.921875 1.09375 0.96875 0.921875 0.96875 0.828125 C 0.96875 0.65625 0.828125 0.5625 0.703125 0.5625 C 0.5 0.5625 0.296875 0.734375 0.296875 1 C 0.296875 1.40625 0.890625 1.421875 1.28125 1.421875 C 2.375 1.421875 2.84375 0.859375 2.9375 0.46875 Z M 2.734375 -0.921875 C 2.71875 -0.828125 2.71875 -0.8125 2.59375 -0.671875 C 2.34375 -0.375 2.015625 -0.1875 1.75 -0.1875 C 1.390625 -0.1875 1.234375 -0.5 1.234375 -0.859375 C 1.234375 -1.15625 1.421875 -1.9375 1.59375 -2.25 C 1.890625 -2.734375 2.21875 -2.875 2.453125 -2.875 C 2.9375 -2.875 3.078125 -2.34375 3.078125 -2.28125 C 3.078125 -2.265625 3.078125 -2.25 3.046875 -2.171875 Z M 2.734375 -0.921875 "/>
</symbol>
<symbol overflow="visible" id="glyph3-0">
<path style="stroke:none;" d=""/>
</symbol>
<symbol overflow="visible" id="glyph3-1">
<path style="stroke:none;" d="M 2.46875 -5.21875 C 1.140625 -4.28125 0.796875 -2.8125 0.796875 -1.75 C 0.796875 -0.765625 1.09375 0.765625 2.46875 1.734375 C 2.53125 1.734375 2.609375 1.734375 2.609375 1.640625 C 2.609375 1.609375 2.59375 1.59375 2.53125 1.546875 C 1.609375 0.703125 1.265625 -0.46875 1.265625 -1.734375 C 1.265625 -3.609375 1.984375 -4.53125 2.5625 -5.046875 C 2.59375 -5.078125 2.609375 -5.09375 2.609375 -5.125 C 2.609375 -5.21875 2.53125 -5.21875 2.46875 -5.21875 Z M 2.46875 -5.21875 "/>
</symbol>
<symbol overflow="visible" id="glyph3-2">
<path style="stroke:none;" d="M 0.625 -5.21875 C 0.578125 -5.21875 0.5 -5.21875 0.5 -5.125 C 0.5 -5.09375 0.515625 -5.078125 0.5625 -5.03125 C 1.15625 -4.484375 1.828125 -3.546875 1.828125 -1.75 C 1.828125 -0.296875 1.375 0.8125 0.625 1.484375 C 0.5 1.609375 0.5 1.609375 0.5 1.640625 C 0.5 1.6875 0.515625 1.734375 0.578125 1.734375 C 0.671875 1.734375 1.328125 1.265625 1.78125 0.40625 C 2.09375 -0.171875 2.296875 -0.921875 2.296875 -1.734375 C 2.296875 -2.71875 2 -4.234375 0.625 -5.21875 Z M 0.625 -5.21875 "/>
</symbol>
</g>
</defs>
<g id="surface1">
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-1" x="4.729175" y="14.691833"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-2" x="46.431502" y="48.345083"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph1-1" x="58.247283" y="48.345083"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph2-1" x="66.386132" y="49.914694"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-3" x="75.104429" y="48.345083"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-2" x="117.639148" y="48.345083"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-3" x="60.76814" y="83.567935"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph0-4" x="118.438494" y="83.567935"/>
</g>
<path style="fill:none;stroke-width:0.41998;stroke-linecap:butt;stroke-linejoin:miter;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M -49.089801 35.644406 C -10.744233 45.498311 20.781209 36.702701 48.198897 8.720589 " transform="matrix(0.996591,0,0,-0.996591,65.930261,45.554141)"/>
<path style="fill:none;stroke-width:0.41998;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M -2.185743 2.51976 C -1.784996 1.007623 -0.896258 0.296009 -0.000682142 0.000251641 C -0.895797 -0.29163 -1.783806 -1.00754 -2.184141 -2.519547 " transform="matrix(0.697414,0.711815,0.711815,-0.697414,114.109672,37.01238)"/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph2-2" x="72.071105" y="6.880573"/>
</g>
<path style="fill:none;stroke-width:0.41998;stroke-linecap:butt;stroke-linejoin:miter;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M -56.517466 26.923268 C -52.276445 -2.222969 -37.26433 -21.248767 -10.293478 -31.996344 " transform="matrix(0.996591,0,0,-0.996591,65.930261,45.554141)"/>
<path style="fill:none;stroke-width:0.41998;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M -2.184582 2.521309 C -1.784833 1.009681 -0.895601 0.292241 0.00148482 -0.000125761 C -0.89421 -0.293708 -1.786833 -1.008011 -2.184119 -2.520745 " transform="matrix(0.925773,0.368858,0.368858,-0.925773,55.865859,77.518867)"/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph2-3" x="26.656109" y="51.162476"/>
</g>
<path style="fill:none;stroke-width:0.41998;stroke-linecap:butt;stroke-linejoin:miter;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-dasharray:0.41998,1.99255;stroke-miterlimit:10;" d="M -49.089801 28.514631 L -15.741739 8.634357 " transform="matrix(0.996591,0,0,-0.996591,65.930261,45.554141)"/>
<path style="fill:none;stroke-width:0.41998;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M -2.181738 2.519014 C -1.783458 1.008681 -0.895497 0.292183 -0.000253726 -0.000154048 C -0.897872 -0.293329 -1.785291 -1.009372 -2.184961 -2.520746 " transform="matrix(0.856022,0.510235,0.510235,-0.856022,50.422171,37.054685)"/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 22.878906 32.878906 L 44.730469 32.878906 L 44.730469 21.417969 L 22.878906 21.417969 Z M 22.878906 32.878906 "/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph3-1" x="25.133098" y="28.886925"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph2-2" x="28.235825" y="28.886925"/>
  <use xlink:href="#glyph2-4" x="32.732522" y="28.886925"/>
  <use xlink:href="#glyph2-3" x="35.088597" y="28.886925"/>
</g>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph3-2" x="39.372349" y="28.886925"/>
</g>
<path style="fill:none;stroke-width:0.41998;stroke-linecap:butt;stroke-linejoin:miter;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 22.360812 -0.176931 L 46.740801 -0.176931 " transform="matrix(0.996591,0,0,-0.996591,65.930261,45.554141)"/>
<path style="fill:none;stroke-width:0.41998;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M -2.183294 2.518379 C -1.783494 1.009329 -0.897661 0.29204 -0.00007 -0.00193137 C -0.897661 -0.295902 -1.783494 -1.009272 -2.183294 -2.518322 " transform="matrix(0.996591,0,0,-0.996591,112.722726,45.728544)"/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph2-5" x="98.526916" y="41.912837"/>
</g>
<path style="fill:none;stroke-width:0.41998;stroke-linecap:butt;stroke-linejoin:miter;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M -0.964801 -8.419876 L -0.964801 -26.501048 " transform="matrix(0.996591,0,0,-0.996591,65.930261,45.554141)"/>
<path style="fill:none;stroke-width:0.41998;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M -2.183297 2.51982 C -1.783497 1.00685 -0.897664 0.29348 -0.0000732611 -0.000490547 C -0.897664 -0.294461 -1.783497 -1.007831 -2.183297 -2.520801 " transform="matrix(0,0.996591,0.996591,0,64.969239,72.175854)"/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph2-6" x="67.433539" y="63.986309"/>
</g>
<path style="fill:none;stroke-width:0.41998;stroke-linecap:butt;stroke-linejoin:miter;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 56.649581 -6.844192 L 56.649581 -26.501048 " transform="matrix(0.996591,0,0,-0.996591,65.930261,45.554141)"/>
<path style="fill:none;stroke-width:0.41998;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M -2.183297 2.521062 C -1.783497 1.008091 -0.897664 0.294722 -0.0000732611 0.000750867 C -0.897664 -0.29322 -1.783497 -1.006589 -2.183297 -2.51956 " transform="matrix(0,0.996591,0.996591,0,122.38597,72.175854)"/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph2-7" x="124.850291" y="64.118506"/>
</g>
<path style="fill:none;stroke-width:0.41998;stroke-linecap:butt;stroke-linejoin:miter;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 7.975835 -35.520076 L 47.544321 -35.520076 " transform="matrix(0.996591,0,0,-0.996591,65.930261,45.554141)"/>
<path style="fill:none;stroke-width:0.41998;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M -2.185783 2.519035 C -1.785983 1.006065 -0.896231 0.292695 0.00136052 -0.00127561 C -0.896231 -0.295247 -1.785983 -1.008616 -2.185783 -2.521586 " transform="matrix(0.996591,0,0,-0.996591,113.522082,80.951854)"/>
<g style="fill:rgb(0%,0%,0%);fill-opacity:1;">
  <use xlink:href="#glyph2-8" x="91.743331" y="77.136126"/>
</g>
</g>
</svg>
</figure><pre><code class="language-">```!latex
\begin{tikzcd}
T
\arrow[drr, bend left, "x"]
\arrow[ddr, bend right, "y"]
\arrow[dr, dotted, "{(x,y)}" description] & & \\
& X \times_Z Y \arrow[r, "p"] \arrow[d, "q"]
& X \arrow[d, "f"] \\
& Y \arrow[r, "g"]
& Z
\end{tikzcd}
```
</code></pre><p>不过遇到了一个大坑，Common Lisp 的实现 SBCL 对 Windows 的支持有些问题，READ-LINE 会读到 CR．我以后还是换 Linux 桌面算了．
</p><h2>方案</h2><p>之前尝试过的方案有用 Pandoc 读取 Markdown，不过发现 Markdown 有很多我不需要的功能．后来重新写了一个标记语言，反而思路更清晰．
</p><p>关于这个叫 wetd 的标记语言，我其实想得不多，我只想有一些在 parser 层面不同的 block element，然后实现我需要的 inline element．最后 block element 就有这几个：
</p><ol><li><p>段落
</p></li><li><p>标题
</p></li><li><p>代码块
</p></li><li><p>通用块级容器
</p></li></ol><p>inline element 则有这些：
</p><ol><li><p>公式
</p></li><li><p>代码
</p></li><li><p>链接（图片）
</p></li><li><p>强调
</p></li></ol><p>可以发现比 Markdown 少了很多，但对我来说够用了．
</p><p>话说行首冒号开头的特殊语法还是从 IBM GML 那学来的，而且又喜欢 Lisp、Erlang 这些，我果然不愧于 <a href="https://github.com/lrw04">Github profile</a> 上写的“interested mainly in technology popular among old people”了．
</p><p>总之，这是<a href="https://github.com/lrw04/bwog">仓库</a>．
</p></div>
    <script defer="" src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
    <script>document.addEventListener("DOMContentLoaded", function () {
            var mathElements = document.getElementsByClassName("math");
            var macros = {"\\Gal":"\\operatorname{Gal}","\\tr":"\\operatorname{tr}","\\GL":"\\operatorname{GL}","\\SL":"\\operatorname{SL}","\\PSL":"\\operatorname{PSL}","\\SO":"\\operatorname{SO}","\\SU":"\\operatorname{SU}","\\im":"\\operatorname{im}","\\cof":"\\operatorname{cof}","\\End":"\\operatorname{End}","\\Tor":"\\operatorname{Tor}","\\rk":"\\operatorname{rk}","\\Hom":"\\operatorname{Hom}","\\diag":"\\operatorname{diag}","\\vspan":"\\operatorname{span}","\\lcm":"\\operatorname{lcm}","\\id":"\\operatorname{id}","\\Ab":"\\textsf{Ab}","\\Fld":"\\textsf{Fld}","\\Mod":"#1\\textsf{-Mod}","\\Grp":"\\textsf{Grp}","\\dSet":"#1\\textsf{-Set}","\\Set":"\\textsf{Set}","\\SetStar":"\\textsf{Set*}","\\Vect":"#1\\textsf{-Vect}","\\Alg":"#1\\textsf{-Alg}","\\Ring":"\\textsf{Ring}","\\R":"\\mathbb{R}","\\C":"\\mathbb{C}","\\N":"\\mathbb{N}","\\Z":"\\mathbb{Z}","\\Q":"\\mathbb{Q}","\\F":"\\mathbb{F}","\\sfC":"\\mathsf{C}","\\vphi":"\\varphi"};
            for (var i = 0; i < mathElements.length; i++) {
                var texText = mathElements[i].firstChild;
                if (mathElements[i].tagName == "SPAN") {
                    katex.render(texText.data, mathElements[i], {
                        displayMode: mathElements[i].classList.contains('display'),
                        throwOnError: false,
                        macros: macros,
                        fleqn: false
                    });
                }
            }
            hljs.highlightAll();
        });
    </script>
</body>

</html>